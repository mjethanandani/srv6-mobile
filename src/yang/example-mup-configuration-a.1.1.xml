<!--
    This example shows a SRv6 configuration for a mobile node.
-->

<?xml version="1.0" encoding="UTF-8"?>
<routing
    xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"
    xmlns:bt="urn:ietf:params:xml:ns:yang:ietf-bgp-types"
    xmlns:srv6-mob="urn:ietf:params:xml:ns:yang:ietf-srv6-mobile">
  <control-plane-protocols>
    <control-plane-protocol>
      <type
      xmlns:bgp="urn:ietf:params:xml:ns:yang:ietf-bgp">bgp:bgp</type>
      <name>name:BGP</name>
      <bgp
          xmlns="urn:ietf:params:xml:ns:yang:ietf-bgp">
        <global>
          <as>64496</as>
	  <router-id>192.0.2.1</router-id>
	  <route-distinguisher>100.0.0.1:1</route-distinguisher>
	  <sid-allocation-mode>instance-sid</sid-allocation-mode>
          <afi-safis>
            <afi-safi>
              <name>srv6-mob:srte-policy-ipv6</name>
            </afi-safi>
          </afi-safis>
	  <srv6
	      xmlns="urn:ietf:params:xml:ns:yang:ietf-srv6-mobile">
	    <locator>
	      <name>earth</name>
	    </locator>
	    <mobile>
	      <decapsultion>
		<id>1</id>
		<locator>mobile2</locator>
		<function>End.M.GTP4.D</function>
		<network-instance>vpn-vrf-1</network-instance>
		<policy-color>200</policy-color>
		<n4-network-instance>
		  <routing-policy>core</routing-policy>
		  <access>dnn.keysight.com</access>
		</n4-network-instance>
	      </decapsultion>
	    </mobile>
	  </srv6>
        </global>
        <peer-groups>
	  <peer-group>
	    <name>core</name>
	    <peer-as>64497</peer-as>
	    <transport>
	      <local-address>127.0.0.1</local-address>
	    </transport>
	    <route-reflector>
	      <client>true</client>
	    </route-reflector>
	    <afi-safis>
	      <afi-safi>
		<name>srv6-mob:srte-policy-ipv6</name>
		<enabled>true</enabled>
	      </afi-safi>
	    </afi-safis>
	  </peer-group>
	</peer-groups>
      </bgp>
    </control-plane-protocol>
  </control-plane-protocols>
</routing>
